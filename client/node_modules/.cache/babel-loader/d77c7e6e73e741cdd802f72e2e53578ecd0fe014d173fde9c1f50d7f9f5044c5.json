{"ast":null,"code":"import React,{createContext,useState,useEffect}from'react';import Cookies from'js-cookie';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);useEffect(()=>{const token=Cookies.get('authToken');if(token){axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);axios.get('/api/auth/me').then(response=>setUser(response.data)).catch(()=>Cookies.remove('authToken'));}},[]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,setUser},children:children});};export{AuthContext,AuthProvider};","map":{"version":3,"names":["React","createContext","useState","useEffect","Cookies","axios","jsx","_jsx","AuthContext","AuthProvider","_ref","children","user","setUser","token","get","defaults","headers","common","concat","then","response","data","catch","remove","Provider","value"],"sources":["D:/Claw Enterprises/client/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport axios from 'axios';\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = Cookies.get('authToken');\r\n    if (token) {\r\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n      axios.get('/api/auth/me')\r\n        .then(response => setUser(response.data))\r\n        .catch(() => Cookies.remove('authToken'));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACjE,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,CAAC,CAEnC,KAAM,CAAAQ,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,KAAK,CAAGV,OAAO,CAACW,GAAG,CAAC,WAAW,CAAC,CACtC,GAAID,KAAK,CAAE,CACTT,KAAK,CAACW,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaL,KAAK,CAAE,CAClET,KAAK,CAACU,GAAG,CAAC,cAAc,CAAC,CACtBK,IAAI,CAACC,QAAQ,EAAIR,OAAO,CAACQ,QAAQ,CAACC,IAAI,CAAC,CAAC,CACxCC,KAAK,CAAC,IAAMnB,OAAO,CAACoB,MAAM,CAAC,WAAW,CAAC,CAAC,CAC7C,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEjB,IAAA,CAACC,WAAW,CAACiB,QAAQ,EAACC,KAAK,CAAE,CAAEd,IAAI,CAAEC,OAAQ,CAAE,CAAAF,QAAA,CAC5CA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,OAASH,WAAW,CAAEC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}